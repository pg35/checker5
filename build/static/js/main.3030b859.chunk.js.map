{"version":3,"sources":["components/styled.js","components/inputs/TextInput.js","components/Spinner.js","spinner.gif","util.js","components/inputs/FileInput.js","components/inputs/URLInput.js","components/Main.js","components/CreditCheck.js","components/Scan.js","App.js","index.js"],"names":["Container","styled","div","Textarea","textarea","Button","button","Table","table","Heading","h3","props","success","Label","label","TextInput","state","setState","rawText","useState","wordCount","setWordCount","charCount","setCharCount","setTextInState","text","getWords","join","useEffect","countWords","countChars","style","textAlign","fontWeight","fontSize","htmlFor","cursor","id","value","onChange","e","target","placeholder","color","s","window","jQuery","trim","split","filter","tok","length","words","reduce","t","c","Spinner","src","alt","doAjax","args","ajaxUrl","ajax","FileInput","rawFile","localStatus","setLocalStatus","errorMsg","setErrorMsg","ref","React","createRef","console","log","progress","org_name","type","formData","FormData","append","current","files","data","dataType","processData","contentType","beforeSend","done","textStatus","jqXHR","message","fail","errorThrown","isValidUrl","urlString","RegExp","test","URLInput","rawUrl","width","padding","boxSizing","url","toLowerCase","isValid","marginTop","Main","sandbox","handleTypeChange","allTypes","file","typeElems","Object","keys","map","k","name","checked","Comp","onClick","step","status","scan_id","credits","disabled","CreditCheck","poll","setPoll","pollXHR","action","method","setTimeout","error","always","abort","xhr","upload_name","heading","input","slice","toUpperCase","confirm","export","pdf","Scan","setAction","pxq_pgck_report_url","open","App","Error","className","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.3030b859.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  min-height: 300px;\r\n  border: 1px solid transparent;\r\n  margin-bottom: 10px;\r\n`;\r\nexport const Textarea = styled.textarea`\r\n  display: block;\r\n  width: 100%;\r\n  height: 150px;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  resize: vertical;\r\n`;\r\nexport const Button = styled.button`\r\n  padding: 8px 16px;\r\n  margin: 0 3px;\r\n`;\r\nexport const Table = styled.table`\r\n  display: inline-block;\r\n  margin-top: 20px;\r\n  text-align: left;\r\n`;\r\nexport const Heading = styled.h3`\r\n  color: ${(props) => (props.success ? \"green\" : \"red\")};\r\n`;\r\nexport const Label = styled.label`\r\n  display: inline-block;\r\n  margin: 0 20px 10px 0;\r\n  cursor: pointer;\r\n  font-weight: normal;\r\n`;\r\n","import { Textarea } from \"../styled\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function TextInput(props) {\r\n  const { state, setState } = props;\r\n  const { rawText } = state;\r\n  const [wordCount, setWordCount] = useState(0);\r\n  const [charCount, setCharCount] = useState(0);\r\n  const setTextInState = (wordCount, charCount, rawText) =>\r\n    setState({\r\n      ...state,\r\n      text: charCount < 30 || wordCount < 6 ? \"\" : getWords(rawText).join(\" \")\r\n    });\r\n  useEffect(() => {\r\n    setWordCount(countWords(rawText));\r\n    setCharCount(countChars(rawText));\r\n    setTextInState(countWords(rawText), countChars(rawText), rawText);\r\n  }, []);\r\n  useEffect(() => {\r\n    setTextInState(wordCount, charCount, rawText);\r\n  }, [rawText, charCount, wordCount]);\r\n  return (\r\n    <div style={{ textAlign: \"left\" }}>\r\n      <p\r\n        style={{\r\n          fontWeight: \"bold\",\r\n          fontSize: \"1.1em\"\r\n        }}\r\n      >\r\n        <label\r\n          htmlFor=\"pxq_pgck_text_input\"\r\n          style={{\r\n            cursor: \"pointer\"\r\n          }}\r\n        >\r\n          Please enter text to check plagiarism\r\n        </label>{\" \"}\r\n        <small>(At least 30 characters and 6 words)</small>\r\n      </p>\r\n      <Textarea\r\n        id=\"pxq_pgck_text_input\"\r\n        value={rawText}\r\n        onChange={(e) => {\r\n          setState({\r\n            ...state,\r\n            rawText: e.target.value\r\n          });\r\n          setWordCount(countWords(e.target.value));\r\n          setCharCount(countChars(e.target.value));\r\n        }}\r\n        placeholder=\"Enter at least 30 characters and 6 words\"\r\n      ></Textarea>\r\n      <div style={{ textAlign: \"left\" }}>\r\n        <small>\r\n          <span>\r\n            <strong>Characters:</strong>{\" \"}\r\n            <span\r\n              style={{\r\n                color: charCount < 30 ? \"red\" : \"green\"\r\n              }}\r\n            >\r\n              {charCount}\r\n            </span>\r\n          </span>\r\n          &nbsp;&nbsp;&nbsp;\r\n          <span>\r\n            <strong>Words:</strong>{\" \"}\r\n            <span\r\n              style={{\r\n                color: wordCount < 6 ? \"red\" : \"green\"\r\n              }}\r\n            >\r\n              {wordCount}\r\n            </span>\r\n          </span>\r\n        </small>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nfunction getWords(s) {\r\n  return window.jQuery\r\n    .trim(s)\r\n    .split(/\\s+|\\r?\\n/g)\r\n    .filter((tok) => tok.length);\r\n}\r\nfunction countWords(s) {\r\n  return getWords(s).length;\r\n}\r\nfunction countChars(s) {\r\n  const words = getWords(s);\r\n  return words.reduce(\r\n    (t, c) => t + c.length,\r\n    words.length ? words.length - 1 : 0\r\n  );\r\n}\r\n","import spinner from \"../spinner.gif\";\r\nexport default function Spinner(props) {\r\n  return <img src={spinner} alt=\"ajax in progress\" />;\r\n}\r\n","export default \"data:image/gif;base64,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\"","export function doAjax(args) {\r\n  window.ajaxUrl = \"https://www.goodcopy.xyz/wp-admin/admin-ajax.php\";\r\n  return window.jQuery.ajax(window.ajaxUrl, args);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Spinner from \"../Spinner\";\r\nimport { Table } from \"../styled\";\r\nimport { doAjax } from \"../../util\";\r\n\r\nexport default function FileInput(props) {\r\n  const { state, setState } = props;\r\n  const { rawFile, text } = state;\r\n  const [localStatus, setLocalStatus] = useState(0);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const ref = React.createRef();\r\n  console.log(rawFile, text);\r\n  useEffect(() => {\r\n    setState({ ...state, text: rawFile });\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    var formData = new FormData();\r\n    formData.append(\"action\", \"pxq_pgck_upload_file\");\r\n    formData.append(\"pxq_pgck\", ref.current.files[0]);\r\n    doAjax({\r\n      data: formData,\r\n      type: \"POST\",\r\n      dataType: \"json\",\r\n      processData: false,\r\n      contentType: false,\r\n      beforeSend: function () {\r\n        setLocalStatus(1);\r\n      }\r\n    })\r\n      .done((data, textStatus, jqXHR) => {\r\n        console.log(data);\r\n        if (data.success) {\r\n          setState({\r\n            ...state,\r\n            rawFile: data.data,\r\n            text: data.data\r\n          });\r\n          setLocalStatus(2);\r\n        } else {\r\n          setState({\r\n            ...state,\r\n            rawFile: null,\r\n            text: null\r\n          });\r\n          setErrorMsg(data.data.message);\r\n          setLocalStatus(3);\r\n        }\r\n      })\r\n      .fail(function (jqXHR, textStatus, errorThrown) {\r\n        console.log(\"fail\", textStatus);\r\n        setLocalStatus(3);\r\n        setErrorMsg(\"Ajax error: \" + textStatus);\r\n      });\r\n  };\r\n  let progress = \"\";\r\n  if (1 === localStatus) {\r\n    progress = (\r\n      <span>\r\n        Uploading file... <Spinner />\r\n      </span>\r\n    );\r\n  } else if (2 === localStatus) {\r\n    progress = (\r\n      <span style={{ color: \"green\" }}>\r\n        {\" \"}\r\n        <strong>{`${rawFile.org_name}`}</strong> successfully uploaded\r\n      </span>\r\n    );\r\n  } else if (3 === localStatus) {\r\n    progress = (\r\n      <span\r\n        style={{ color: \"red\" }}\r\n      >{`Failed to upload file. ${errorMsg}.`}</span>\r\n    );\r\n  }\r\n  return (\r\n    <div style={{ textAlign: \"left\" }}>\r\n      <p style={{ fontWeight: \"bold\", fontSize: \"1.1em\" }}>\r\n        <label\r\n          htmlFor=\"pxq_pgck_file_input\"\r\n          style={{\r\n            cursor: \"pointer\"\r\n          }}\r\n        >\r\n          Please upload a file to check plagiarism\r\n        </label>{\" \"}\r\n      </p>\r\n      {0 === localStatus && rawFile ? (\r\n        <p>\r\n          {\" \"}\r\n          Previously uploaded file is <strong>{`${rawFile.org_name}`} </strong>\r\n        </p>\r\n      ) : null}\r\n      <p>\r\n        <input\r\n          id=\"pxq_pgck_file_input\"\r\n          type=\"file\"\r\n          ref={ref}\r\n          onChange={handleChange}\r\n        />\r\n      </p>\r\n      <p>{progress}</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nconst isValidUrl = (urlString) => {\r\n  var urlPattern = new RegExp(\r\n    \"^(https?:\\\\/\\\\/)?\" + // validate protocol\r\n    \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // validate domain name\r\n    \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // validate OR ip (v4) address\r\n    \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // validate port and path\r\n    \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // validate query string\r\n      \"(\\\\#[-a-z\\\\d_]*)?$\",\r\n    \"i\"\r\n  ); // validate fragment locator\r\n  return !!urlPattern.test(urlString);\r\n};\r\nexport default function URLInput(props) {\r\n  const { state, setState } = props;\r\n  const { rawUrl } = state;\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setState({ ...state, text: isValidUrl(rawUrl) ? rawUrl : \"\" });\r\n  }, []);\r\n  const handleChange = (e) => {\r\n    var url = window.jQuery.trim(e.target.value).toLowerCase();\r\n    const isValid = isValidUrl(url);\r\n    setState({\r\n      ...state,\r\n      rawUrl: url,\r\n      text: isValid ? url : \"\"\r\n    });\r\n    setErrorMsg(isValid ? \"\" : \"Please enter a valid URL\");\r\n  };\r\n  return (\r\n    <div style={{ textAlign: \"left\" }}>\r\n      <p style={{ fontWeight: \"bold\", fontSize: \"1.1em\" }}>\r\n        <label\r\n          htmlFor=\"pxq_pgck_url_input\"\r\n          style={{\r\n            cursor: \"pointer\"\r\n          }}\r\n        >\r\n          Please enter URL to check plagiarism\r\n        </label>{\" \"}\r\n      </p>\r\n      <input\r\n        style={{ width: \"100%\", padding: \"10px\", boxSizing: \"border-box\" }}\r\n        id=\"pxq_pgck_url_input\"\r\n        type=\"url\"\r\n        value={rawUrl}\r\n        onChange={handleChange}\r\n        placeholder=\"https://somehost.com/page.html\"\r\n      />\r\n      <div style={{ color: \"red\", marginTop: \"5px\" }}>{errorMsg}</div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Container, Button, Label, Table } from \"./styled\";\r\nimport TextInput from \"./inputs/TextInput\";\r\nimport FileInput from \"./inputs/FileInput\";\r\nimport URLInput from \"./inputs/URLInput\";\r\n\r\nexport default function Main(props) {\r\n  const { state, setState } = props;\r\n  const { type, text, sandbox } = state;\r\n\r\n  const handleTypeChange = (e) =>\r\n    setState({\r\n      ...state,\r\n      type: e.target.value\r\n    });\r\n\r\n  const allTypes = {\r\n    text: \"Enter text\",\r\n    file: \"Upload file\",\r\n    url: \"Enter URL\"\r\n  };\r\n  const typeElems = Object.keys(allTypes).map((k) => (\r\n    <Label key={k}>\r\n      <input\r\n        type=\"radio\"\r\n        name=\"type\"\r\n        value={k}\r\n        checked={k === type}\r\n        onChange={handleTypeChange}\r\n      />{\" \"}\r\n      {allTypes[k]}\r\n    </Label>\r\n  ));\r\n\r\n  let Comp = TextInput;\r\n  if (\"file\" === type) Comp = FileInput;\r\n  else if (\"url\" === type) Comp = URLInput;\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ textAlign: \"left\" }}>{typeElems}</div>\r\n      <Container>\r\n        <Comp state={state} setState={setState} />\r\n        <p style={{ textAlign: \"left\" }}>\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={sandbox}\r\n              onChange={(e) =>\r\n                setState({\r\n                  ...state,\r\n                  sandbox: !sandbox\r\n                })\r\n              }\r\n            />{\" \"}\r\n            Enable sandbox mode\r\n          </label>\r\n        </p>\r\n      </Container>\r\n      <Button\r\n        onClick={() =>\r\n          props.setState({\r\n            ...state,\r\n            step: 2,\r\n            status: 1,\r\n            scan_id: 0,\r\n            credits: 0\r\n          })\r\n        }\r\n        disabled={!text}\r\n      >\r\n        Next\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Container, Button, Table, Heading } from \"./styled\";\r\nimport { doAjax } from \"../util\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nexport default function CreditCheck(props) {\r\n  const { state, setState } = props;\r\n  const { status, credits, type, text, sandbox } = state;\r\n  console.log(\"sandbox\", sandbox);\r\n  const [poll, setPoll] = useState(0);\r\n  const scan_id = state.scan_id;\r\n\r\n  useEffect(() => {\r\n    let pollXHR;\r\n    if (poll) {\r\n      pollXHR = doAjax({\r\n        data: {\r\n          action: \"pxq_pgck_get_check_credits_result\",\r\n          scan_id: scan_id\r\n        },\r\n        method: \"GET\",\r\n        dataType: \"json\"\r\n      })\r\n        .done((data, textStatus, jqXHR) => {\r\n          console.log(\"getcred\", data);\r\n          if (data.success && data.data && data.data.credits) {\r\n            setState({ ...state, credits: data.data.credits, status: 2 });\r\n          } else {\r\n            setTimeout(() => setPoll(poll + 1), 1000);\r\n          }\r\n        })\r\n        .fail((jqXHR, textStatus, errorThrown) => {\r\n          console.log(\"getcred failed\", poll, scan_id, textStatus);\r\n          if (\"abort\" === textStatus) return;\r\n          setState({ ...state, status: 3, error: \"Ajax Error \" + textStatus });\r\n        })\r\n        .always(() => {\r\n          pollXHR = null;\r\n        });\r\n    }\r\n    return () => {\r\n      console.log(\"unmount in poll\", !!pollXHR, poll, scan_id);\r\n      if (pollXHR) pollXHR.abort();\r\n    };\r\n  }, [poll, scan_id]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"cc use effect\", type, text, scan_id);\r\n    let xhr = doAjax({\r\n      data: {\r\n        action: \"pxq_pgck_check_credits\",\r\n        text: \"file\" === type ? text.upload_name : text,\r\n        type,\r\n        sandbox: sandbox\r\n      },\r\n      method: \"POST\",\r\n      dataType: \"json\"\r\n    })\r\n      .done((data, textStatus, jqXHR) => {\r\n        console.log(\"credit checker success\", data);\r\n        if (data.success) {\r\n          setState({ ...state, scan_id: data.data.scan_id });\r\n          setPoll(1);\r\n        } else {\r\n          setState({ ...state, status: 3, error: data.data.message });\r\n        }\r\n      })\r\n      .fail(function (jqXHR, textStatus, errorThrown) {\r\n        console.log(\r\n          \"credcheck failed\",\r\n          scan_id,\r\n          textStatus,\r\n          errorThrown,\r\n          jqXHR\r\n        );\r\n        if (\"abort\" === textStatus) return;\r\n        setState({ ...state, status: 3, error: \"Ajax Error \" + textStatus });\r\n      })\r\n      .always(() => {\r\n        xhr = null;\r\n      });\r\n    return () => {\r\n      console.log(\"unmounting credit checker\", !!xhr);\r\n      if (xhr) xhr.abort();\r\n    };\r\n  }, []);\r\n\r\n  let heading = null;\r\n  if (1 === status) heading = <h3>Checking credits</h3>;\r\n  else if (2 === status)\r\n    heading = <Heading success>Credit check completed</Heading>;\r\n  else heading = <Heading>Credit check failed</Heading>;\r\n  console.log(\"credit check render\");\r\n  function capitalize(s) {\r\n    return s[0].toUpperCase() + s.slice(1);\r\n  }\r\n  let input = \"\";\r\n  if (\"text\" === type)\r\n    input = text.slice(0, 6) + \"...\" + text.slice(text.length - 6);\r\n  else if (\"file\" === type) input = text.org_name;\r\n  else input = text;\r\n  return (\r\n    <div>\r\n      <Container>\r\n        {heading}\r\n        {1 === status ? (\r\n          <p>\r\n            <Spinner />\r\n          </p>\r\n        ) : null}\r\n        {3 === status ? (\r\n          <p>\r\n            <strong>Reason:</strong> {state.error}\r\n          </p>\r\n        ) : null}\r\n        <Table>\r\n          <tbody>\r\n            <tr>\r\n              <th>Type</th>\r\n              <td>{\"url\" === type ? \"URL\" : capitalize(type)}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Input</th>\r\n              <td>{input}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Sandbox mode</th>\r\n              <td>\r\n                {true === sandbox ? (\r\n                  \"On\"\r\n                ) : (\r\n                  <span style={{ color: \"red\" }}>Off</span>\r\n                )}\r\n              </td>\r\n            </tr>\r\n            {2 === status ? (\r\n              <tr>\r\n                <th>Plagiarism check {sandbox ? \"expected\" : \"\"} cost</th>\r\n                <td>{credits} credits</td>\r\n              </tr>\r\n            ) : null}\r\n          </tbody>\r\n        </Table>\r\n        {sandbox ? (\r\n          <div>\r\n            <small>\r\n              Sandbox mode shows expected cost.\r\n              <br />\r\n              No credit is charged in sandbox mode.\r\n            </small>\r\n          </div>\r\n        ) : null}\r\n      </Container>\r\n      <Button\r\n        onClick={() => {\r\n          if (1 === status) {\r\n            if (\r\n              window.confirm(\r\n                \"Currently, credit check is in progress.\\nAre you sure you want to cancel it and restart?\"\r\n              )\r\n            ) {\r\n              setPoll(0);\r\n              setState({ ...state, step: 1, status: 1 });\r\n            }\r\n          } else setState({ ...state, step: 1, status: 1 });\r\n        }}\r\n      >\r\n        Restart\r\n      </Button>\r\n\r\n      <Button\r\n        onClick={() => {\r\n          if (\r\n            window.confirm(\r\n              `Plagiarism check will cost you ${\r\n                sandbox ? \"0 credits b/c sandbox is on\" : credits + \" credit(s)\"\r\n              }.\\nAre you sure you want to continue?`\r\n            )\r\n          )\r\n            setState({ ...state, step: 3, status: 1, export: false, pdf: \"\" });\r\n        }}\r\n        disabled={2 === status ? false : true}\r\n      >\r\n        Check plagiarism\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Container, Button, Table, Heading } from \"./styled\";\r\nimport { doAjax } from \"../util\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nexport default function Scan(props) {\r\n  const { state, setState } = props;\r\n  const { step, status, scan_id, text, pdf, sandbox, type } = state;\r\n\r\n  const [poll, setPoll] = useState(0);\r\n  const [action, setAction] = useState(\"pxq_pgck_get_scan_result\");\r\n  useEffect(() => {\r\n    let pollXHR;\r\n    if (poll) {\r\n      pollXHR = doAjax({\r\n        data: {\r\n          action: action,\r\n          scan_id: scan_id\r\n        },\r\n        method: \"GET\",\r\n        dataType: \"json\"\r\n      })\r\n        .done((data, textStatus, jqXHR) => {\r\n          console.log(\"scan_result\", data.data.scan_id, data.data.export);\r\n          if (data.success && data.data) {\r\n            if (data.data.pdf) {\r\n              setState({ ...state, ...data.data, status: 2 });\r\n            } else {\r\n              if (data.data.export) {\r\n                console.error(\"exported completed\");\r\n                setState({ ...state, ...data.data });\r\n                setAction(\"pxq_pgck_get_export_result\");\r\n              }\r\n              setTimeout(() => setPoll(poll + 1), 1000);\r\n            }\r\n          }\r\n        })\r\n        .fail((jqXHR, textStatus, errorThrown) => {\r\n          console.log(\"scan_result failed\", poll, scan_id, textStatus);\r\n          if (\"abort\" === textStatus) return;\r\n          setState({ ...state, status: 3, error: \"Ajax Error \" + textStatus });\r\n        })\r\n        .always(() => {\r\n          pollXHR = null;\r\n        });\r\n    }\r\n    return () => {\r\n      console.log(\"unmount in scan_reult poll\", !!pollXHR, poll, scan_id);\r\n      if (pollXHR) pollXHR.abort();\r\n    };\r\n  }, [poll, scan_id, action]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"pc useeffect\", scan_id);\r\n\r\n    let xhr = doAjax({\r\n      data: {\r\n        action: \"pxq_pgck_start_scan\",\r\n        scan_id: scan_id\r\n        //text: text,\r\n        //sandbox\r\n      },\r\n      method: \"POST\",\r\n      dataType: \"json\"\r\n    })\r\n      .done((data, textStatus, jqXHR) => {\r\n        console.log(\"pc success\", data.data.scan_id);\r\n        setState({ ...state, scan_id: data.data.scan_id });\r\n        setPoll(1);\r\n      })\r\n      .fail(function (jqXHR, textStatus, errorThrown) {\r\n        console.log(\"pc failed\", textStatus);\r\n        if (\"abort\" === textStatus) return;\r\n        setState({ ...state, status: 3, error: \"Ajax Error \" + textStatus });\r\n      })\r\n      .always(() => {\r\n        xhr = null;\r\n      });\r\n    return () => {\r\n      console.log(\"unmounting pc\", !!xhr);\r\n      if (xhr) xhr.abort();\r\n    };\r\n  }, []);\r\n\r\n  let heading = null;\r\n  if (1 === status) heading = <h3>Checking plagiarism</h3>;\r\n  else if (2 === status)\r\n    heading = <Heading success>Plagiarism check completed</Heading>;\r\n  else heading = <Heading>Plagiarism check failed</Heading>;\r\n\r\n  function capitalize(s) {\r\n    return s[0].toUpperCase() + s.slice(1);\r\n  }\r\n  let input = \"\";\r\n  if (\"text\" === type)\r\n    input = text.slice(0, 6) + \"...\" + text.slice(text.length - 6);\r\n  else if (\"file\" === type) input = text.org_name;\r\n  else input = text;\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        {heading}\r\n\r\n        {1 === status ? (\r\n          <div>\r\n            <p>\r\n              <Spinner />\r\n            </p>\r\n            <p>\r\n              {state.export\r\n                ? `Generating ${\"file\" !== type ? \"report and PDF\" : \"PDF\"}`\r\n                : \"It may take some time\"}\r\n            </p>\r\n          </div>\r\n        ) : null}\r\n        {3 === status ? (\r\n          <p>\r\n            <strong>Reason:</strong> {state.error}\r\n          </p>\r\n        ) : null}\r\n        {2 === status ? (\r\n          <p>\r\n            <strong>\r\n              {\"file\" !== type ? \"Report and PDF are ready\" : \"PDF is ready\"}\r\n            </strong>\r\n          </p>\r\n        ) : null}\r\n        {(state.export || 2 === status) && \"file\" === type ? (\r\n          <p>\r\n            <small>\r\n              Report is not generated for file based plagiarism check\r\n            </small>\r\n          </p>\r\n        ) : null}\r\n\r\n        <Table>\r\n          <tbody>\r\n            <tr>\r\n              <th>Type</th>\r\n              <td>{\"url\" === type ? \"URL\" : capitalize(type)}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Input</th>\r\n              <td>{input}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Sandbox mode</th>\r\n              <td>\r\n                {true === sandbox ? (\r\n                  \"On\"\r\n                ) : (\r\n                  <span style={{ color: \"red\" }}>Off</span>\r\n                )}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n      <Button\r\n        onClick={() => {\r\n          if (1 === status) {\r\n            if (\r\n              confirm(\r\n                \"Currently, plagiarism check is in progress.\\nAre you sure you want to cancel it and restart?\"\r\n              )\r\n            )\r\n              setState({ ...state, step: 1, status: 1 });\r\n          } else setState({ ...state, step: 1, status: 1 });\r\n        }}\r\n      >\r\n        Restart\r\n      </Button>\r\n      {\"file\" !== type ? (\r\n        <Button\r\n          onClick={() => {\r\n            const url = window.pxq_pgck_report_url + \"?scan_id=\" + scan_id;\r\n            window.open(url, \"_blank\");\r\n          }}\r\n          disabled={2 === status ? false : true}\r\n        >\r\n          View report\r\n        </Button>\r\n      ) : null}\r\n      <Button\r\n        onClick={() => {\r\n          const url = pdf;\r\n          window.open(url, \"_blank\");\r\n        }}\r\n        disabled={2 === status ? false : true}\r\n      >\r\n        Download PDF\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\nimport Main from \"./components/Main\";\nimport CreditCheck from \"./components/CreditCheck\";\nimport Scan from \"./components/Scan\";\n\nimport \"./styles.css\";\n\nexport default function App() {\n  const [state, setState] = useState({\n    step: 1,\n    status: 1,\n    type: \"text\",\n    text: \"\",\n    rawText: \"\",\n    rawFile: null,\n    rawUrl: \"\",\n    sandbox: true\n  });\n  useEffect(() => {\n    return () => {\n      //console.log(\"app unmounted\");\n    };\n  }, []);\n  //console.log(\"app\", state);\n  let Comp = null;\n  switch (state.step) {\n    case 1:\n      Comp = Main;\n      break;\n    case 2:\n      Comp = CreditCheck;\n      break;\n    case 3:\n      Comp = Scan;\n      break;\n    default:\n      throw new Error(\"Unknown step\");\n  }\n  //console.log(\"app render\");\n  return (\n    <div className=\"App\">\n      <Comp state={state} setState={setState} />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(<App />);\n"],"sourceRoot":""}