(this["webpackJsonpchecker-0"]=this["webpackJsonpchecker-0"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var A,n,s,a,r,i,o=c(1),l=c.n(o),j=c(11),d=c(3),b=c(2),x=c(4),p=c(5),O=p.a.div(A||(A=Object(x.a)(["\n  min-height: 300px;\n  border: 1px solid transparent;\n  margin-bottom: 10px;\n"]))),u=p.a.textarea(n||(n=Object(x.a)(["\n  display: block;\n  width: 100%;\n  height: 150px;\n  padding: 10px;\n  box-sizing: border-box;\n  resize: vertical;\n"]))),g=p.a.button(s||(s=Object(x.a)(["\n  padding: 8px 16px;\n  margin: 0 3px;\n"]))),h=p.a.table(a||(a=Object(x.a)(["\n  display: inline-block;\n  margin-top: 20px;\n  text-align: left;\n"]))),f=p.a.h3(r||(r=Object(x.a)(["\n  color: ",";\n"])),(function(e){return e.success?"green":"red"})),k=p.a.label(i||(i=Object(x.a)(["\n  display: inline-block;\n  margin: 0 20px 10px 0;\n  cursor: pointer;\n  font-weight: normal;\n"]))),B=c(0);function Q(e){var t=e.state,c=e.setState,A=t.rawText,n=Object(o.useState)(0),s=Object(d.a)(n,2),a=s[0],r=s[1],i=Object(o.useState)(0),l=Object(d.a)(i,2),j=l[0],x=l[1],p=function(e,A,n){return c(Object(b.a)(Object(b.a)({},t),{},{text:A<30||e<6?"":E(n).join(" ")}))};return Object(o.useEffect)((function(){r(w(A)),x(I(A)),p(w(A),I(A),A)}),[]),Object(o.useEffect)((function(){p(a,j,A)}),[A,j,a]),Object(B.jsxs)("div",{style:{textAlign:"left"},children:[Object(B.jsxs)("p",{style:{fontWeight:"bold",fontSize:"1.1em"},children:[Object(B.jsx)("label",{htmlFor:"pxq_pgck_text_input",style:{cursor:"pointer"},children:"Please enter text to check plagiarism"})," ",Object(B.jsx)("small",{children:"(At least 30 characters and 6 words)"})]}),Object(B.jsx)(u,{id:"pxq_pgck_text_input",value:A,onChange:function(e){c(Object(b.a)(Object(b.a)({},t),{},{rawText:e.target.value})),r(w(e.target.value)),x(I(e.target.value))},placeholder:"Enter at least 30 characters and 6 words"}),Object(B.jsx)("div",{style:{textAlign:"left"},children:Object(B.jsxs)("small",{children:[Object(B.jsxs)("span",{children:[Object(B.jsx)("strong",{children:"Characters:"})," ",Object(B.jsx)("span",{style:{color:j<30?"red":"green"},children:j})]}),"\xa0\xa0\xa0",Object(B.jsxs)("span",{children:[Object(B.jsx)("strong",{children:"Words:"})," ",Object(B.jsx)("span",{style:{color:a<6?"red":"green"},children:a})]})]})})]})}function E(e){return window.jQuery.trim(e).split(/\s+|\r?\n/g).filter((function(e){return e.length}))}function w(e){return E(e).length}function I(e){var t=E(e);return t.reduce((function(e,t){return e+t.length}),t.length?t.length-1:0)}function y(e){return Object(B.jsx)("img",{src:"data:image/gif;base64,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",alt:"ajax in progress"})}function C(e){return window.ajaxUrl="https://www.goodcopy.xyz/wp-admin/admin-ajax.php",window.jQuery.ajax(window.ajaxUrl,e)}function m(e){var t=e.state,c=e.setState,A=t.rawFile,n=t.text,s=Object(o.useState)(0),a=Object(d.a)(s,2),r=a[0],i=a[1],j=Object(o.useState)(""),x=Object(d.a)(j,2),p=x[0],O=x[1],u=l.a.createRef();console.log(A,n),Object(o.useEffect)((function(){c(Object(b.a)(Object(b.a)({},t),{},{text:A}))}),[]);var g="";return 1===r?g=Object(B.jsxs)("span",{children:["Uploading file... ",Object(B.jsx)(y,{})]}):2===r?g=Object(B.jsxs)("span",{style:{color:"green"},children:[" ",Object(B.jsx)("strong",{children:"".concat(A.org_name)})," successfully uploaded"]}):3===r&&(g=Object(B.jsx)("span",{style:{color:"red"},children:"Failed to upload file. ".concat(p,".")})),Object(B.jsxs)("div",{style:{textAlign:"left"},children:[Object(B.jsxs)("p",{style:{fontWeight:"bold",fontSize:"1.1em"},children:[Object(B.jsx)("label",{htmlFor:"pxq_pgck_file_input",style:{cursor:"pointer"},children:"Please upload a file to check plagiarism"})," "]}),0===r&&A?Object(B.jsxs)("p",{children:[" ","Previously uploaded file is ",Object(B.jsxs)("strong",{children:["".concat(A.org_name)," "]})]}):null,Object(B.jsx)("p",{children:Object(B.jsx)("input",{id:"pxq_pgck_file_input",type:"file",ref:u,onChange:function(e){var A=new FormData;A.append("action","pxq_pgck_upload_file"),A.append("pxq_pgck",u.current.files[0]),C({data:A,type:"POST",dataType:"json",processData:!1,contentType:!1,beforeSend:function(){i(1)}}).done((function(e,A,n){console.log(e),e.success?(c(Object(b.a)(Object(b.a)({},t),{},{rawFile:e.data,text:e.data})),i(2)):(c(Object(b.a)(Object(b.a)({},t),{},{rawFile:null,text:null})),O(e.data.message),i(3))})).fail((function(e,t,c){console.log("fail",t),i(3),O("Ajax error: "+t)}))}})}),Object(B.jsx)("p",{children:g})]})}var D=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)};function S(e){var t=e.state,c=e.setState,A=t.rawUrl,n=Object(o.useState)(""),s=Object(d.a)(n,2),a=s[0],r=s[1];Object(o.useEffect)((function(){c(Object(b.a)(Object(b.a)({},t),{},{text:D(A)?A:""}))}),[]);return Object(B.jsxs)("div",{style:{textAlign:"left"},children:[Object(B.jsxs)("p",{style:{fontWeight:"bold",fontSize:"1.1em"},children:[Object(B.jsx)("label",{htmlFor:"pxq_pgck_url_input",style:{cursor:"pointer"},children:"Please enter URL to check plagiarism"})," "]}),Object(B.jsx)("input",{style:{width:"100%",padding:"10px",boxSizing:"border-box"},id:"pxq_pgck_url_input",type:"url",value:A,onChange:function(e){var A=window.jQuery.trim(e.target.value).toLowerCase(),n=D(A);c(Object(b.a)(Object(b.a)({},t),{},{rawUrl:A,text:n?A:""})),r(n?"":"Please enter a valid URL")},placeholder:"https://somehost.com/page.html"}),Object(B.jsx)("div",{style:{color:"red",marginTop:"5px"},children:a})]})}function K(e){var t=e.state,c=e.setState,A=t.type,n=t.text,s=t.sandbox,a=function(e){return c(Object(b.a)(Object(b.a)({},t),{},{type:e.target.value}))},r={text:"Enter text",file:"Upload file",url:"Enter URL"},i=Object.keys(r).map((function(e){return Object(B.jsxs)(k,{children:[Object(B.jsx)("input",{type:"radio",name:"type",value:e,checked:e===A,onChange:a})," ",r[e]]},e)})),o=Q;return"file"===A?o=m:"url"===A&&(o=S),Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{style:{textAlign:"left"},children:i}),Object(B.jsxs)(O,{children:[Object(B.jsx)(o,{state:t,setState:c}),Object(B.jsx)("p",{style:{textAlign:"left"},children:Object(B.jsxs)("label",{children:[Object(B.jsx)("input",{type:"checkbox",checked:s,onChange:function(e){return c(Object(b.a)(Object(b.a)({},t),{},{sandbox:!s}))}})," ","Enable sandbox mode"]})})]}),Object(B.jsx)(g,{onClick:function(){return e.setState(Object(b.a)(Object(b.a)({},t),{},{step:2,status:1,scan_id:0,credits:0}))},disabled:!n,children:"Next"})]})}function J(e){var t=e.state,c=e.setState,A=t.status,n=t.credits,s=t.type,a=t.text,r=t.sandbox;console.log("sandbox",r);var i=Object(o.useState)(0),l=Object(d.a)(i,2),j=l[0],x=l[1],p=t.scan_id;Object(o.useEffect)((function(){var e;return j&&(e=C({data:{action:"pxq_pgck_get_check_credits_result",scan_id:p},method:"GET",dataType:"json"}).done((function(e,A,n){console.log("getcred",e),e.success&&e.data&&e.data.credits?c(Object(b.a)(Object(b.a)({},t),{},{credits:e.data.credits,status:2})):setTimeout((function(){return x(j+1)}),1e3)})).fail((function(e,A,n){console.log("getcred failed",j,p,A),"abort"!==A&&c(Object(b.a)(Object(b.a)({},t),{},{status:3,error:"Ajax Error "+A}))})).always((function(){e=null}))),function(){console.log("unmount in poll",!!e,j,p),e&&e.abort()}}),[j,p]),Object(o.useEffect)((function(){console.log("cc use effect",s,a,p);var e=C({data:{action:"pxq_pgck_check_credits",text:"file"===s?a.upload_name:a,type:s,sandbox:r},method:"POST",dataType:"json"}).done((function(e,A,n){console.log("credit checker success",e),e.success?(c(Object(b.a)(Object(b.a)({},t),{},{scan_id:e.data.scan_id})),x(1)):c(Object(b.a)(Object(b.a)({},t),{},{status:3,error:e.data.message}))})).fail((function(e,A,n){console.log("credcheck failed",p,A,n,e),"abort"!==A&&c(Object(b.a)(Object(b.a)({},t),{},{status:3,error:"Ajax Error "+A}))})).always((function(){e=null}));return function(){console.log("unmounting credit checker",!!e),e&&e.abort()}}),[]);var u=null;u=1===A?Object(B.jsx)("h3",{children:"Checking credits"}):2===A?Object(B.jsx)(f,{success:!0,children:"Credit check completed"}):Object(B.jsx)(f,{children:"Credit check failed"}),console.log("credit check render");var k,Q="";return Q="text"===s?a.slice(0,6)+"..."+a.slice(a.length-6):"file"===s?a.org_name:a,Object(B.jsxs)("div",{children:[Object(B.jsxs)(O,{children:[u,1===A?Object(B.jsx)("p",{children:Object(B.jsx)(y,{})}):null,3===A?Object(B.jsxs)("p",{children:[Object(B.jsx)("strong",{children:"Reason:"})," ",t.error]}):null,Object(B.jsx)(h,{children:Object(B.jsxs)("tbody",{children:[Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Type"}),Object(B.jsx)("td",{children:"url"===s?"URL":(k=s,k[0].toUpperCase()+k.slice(1))})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Input"}),Object(B.jsx)("td",{children:Q})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Sandbox mode"}),Object(B.jsx)("td",{children:!0===r?"On":Object(B.jsx)("span",{style:{color:"red"},children:"Off"})})]}),2===A?Object(B.jsxs)("tr",{children:[Object(B.jsxs)("th",{children:["Plagiarism check ",r?"expected":""," cost"]}),Object(B.jsxs)("td",{children:[n," credits"]})]}):null]})}),r?Object(B.jsx)("div",{children:Object(B.jsxs)("small",{children:["Sandbox mode shows expected cost.",Object(B.jsx)("br",{}),"No credit is charged in sandbox mode."]})}):null]}),Object(B.jsx)(g,{onClick:function(){1===A?window.confirm("Currently, credit check is in progress.\nAre you sure you want to cancel it and restart?")&&(x(0),c(Object(b.a)(Object(b.a)({},t),{},{step:1,status:1}))):c(Object(b.a)(Object(b.a)({},t),{},{step:1,status:1}))},children:"Restart"}),Object(B.jsx)(g,{onClick:function(){window.confirm("Plagiarism check will cost you ".concat(r?"0 credits b/c sandbox is on":n+" credit(s)",".\nAre you sure you want to continue?"))&&c(Object(b.a)(Object(b.a)({},t),{},{step:3,status:1,export:!1,pdf:""}))},disabled:2!==A,children:"Check plagiarism"})]})}function v(e){var t=e.state,c=e.setState,A=(t.step,t.status),n=t.scan_id,s=t.text,a=t.pdf,r=t.sandbox,i=t.type,l=Object(o.useState)(0),j=Object(d.a)(l,2),x=j[0],p=j[1],u=Object(o.useState)("pxq_pgck_get_scan_result"),k=Object(d.a)(u,2),Q=k[0],E=k[1];Object(o.useEffect)((function(){var e;return x&&(e=C({data:{action:Q,scan_id:n},method:"GET",dataType:"json"}).done((function(e,A,n){console.log("scan_result",e.data.scan_id,e.data.export),e.success&&e.data&&(e.data.pdf?c(Object(b.a)(Object(b.a)(Object(b.a)({},t),e.data),{},{status:2})):(e.data.export&&(console.error("exported completed"),c(Object(b.a)(Object(b.a)({},t),e.data)),E("pxq_pgck_get_export_result")),setTimeout((function(){return p(x+1)}),1e3)))})).fail((function(e,A,s){console.log("scan_result failed",x,n,A),"abort"!==A&&c(Object(b.a)(Object(b.a)({},t),{},{status:3,error:"Ajax Error "+A}))})).always((function(){e=null}))),function(){console.log("unmount in scan_reult poll",!!e,x,n),e&&e.abort()}}),[x,n,Q]),Object(o.useEffect)((function(){console.log("pc useeffect",n);var e=C({data:{action:"pxq_pgck_start_scan",scan_id:n},method:"POST",dataType:"json"}).done((function(e,A,n){console.log("pc success",e.data.scan_id),c(Object(b.a)(Object(b.a)({},t),{},{scan_id:e.data.scan_id})),p(1)})).fail((function(e,A,n){console.log("pc failed",A),"abort"!==A&&c(Object(b.a)(Object(b.a)({},t),{},{status:3,error:"Ajax Error "+A}))})).always((function(){e=null}));return function(){console.log("unmounting pc",!!e),e&&e.abort()}}),[]);var w=null;w=1===A?Object(B.jsx)("h3",{children:"Checking plagiarism"}):2===A?Object(B.jsx)(f,{success:!0,children:"Plagiarism check completed"}):Object(B.jsx)(f,{children:"Plagiarism check failed"});var I,m="";return m="text"===i?s.slice(0,6)+"..."+s.slice(s.length-6):"file"===i?s.org_name:s,Object(B.jsxs)("div",{children:[Object(B.jsxs)(O,{children:[w,1===A?Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:Object(B.jsx)(y,{})}),Object(B.jsx)("p",{children:t.export?"Generating ".concat("file"!==i?"report and PDF":"PDF"):"It may take some time"})]}):null,3===A?Object(B.jsxs)("p",{children:[Object(B.jsx)("strong",{children:"Reason:"})," ",t.error]}):null,2===A?Object(B.jsx)("p",{children:Object(B.jsx)("strong",{children:"file"!==i?"Report and PDF are ready":"PDF is ready"})}):null,!t.export&&2!==A||"file"!==i?null:Object(B.jsx)("p",{children:Object(B.jsx)("small",{children:"Report is not generated for file based plagiarism check"})}),Object(B.jsx)(h,{children:Object(B.jsxs)("tbody",{children:[Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Type"}),Object(B.jsx)("td",{children:"url"===i?"URL":(I=i,I[0].toUpperCase()+I.slice(1))})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Input"}),Object(B.jsx)("td",{children:m})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Sandbox mode"}),Object(B.jsx)("td",{children:!0===r?"On":Object(B.jsx)("span",{style:{color:"red"},children:"Off"})})]})]})})]}),Object(B.jsx)(g,{onClick:function(){1===A?confirm("Currently, plagiarism check is in progress.\nAre you sure you want to cancel it and restart?")&&c(Object(b.a)(Object(b.a)({},t),{},{step:1,status:1})):c(Object(b.a)(Object(b.a)({},t),{},{step:1,status:1}))},children:"Restart"}),"file"!==i?Object(B.jsx)(g,{onClick:function(){var e=window.pxq_pgck_report_url+"?scan_id="+n;window.open(e,"_blank")},disabled:2!==A,children:"View report"}):null,Object(B.jsx)(g,{onClick:function(){var e=a;window.open(e,"_blank")},disabled:2!==A,children:"Download PDF"})]})}c(24);function M(){var e=Object(o.useState)({step:1,status:1,type:"text",text:"",rawText:"",rawFile:null,rawUrl:"",sandbox:!0}),t=Object(d.a)(e,2),c=t[0],A=t[1];Object(o.useEffect)((function(){return function(){}}),[]);var n=null;switch(c.step){case 1:n=K;break;case 2:n=J;break;case 3:n=v;break;default:throw new Error("Unknown step")}return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(n,{state:c,setState:A})})}var R=document.getElementById("root");Object(j.createRoot)(R).render(Object(B.jsx)(M,{}))}},[[25,1,2]]]);
//# sourceMappingURL=main.3030b859.chunk.js.map